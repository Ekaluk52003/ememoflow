<div id="document-actions" class="mt-8 space-y-6">
    {% if can_resubmit %}
    <div class="p-6 rounded-xl border border-gray-200 glass-card dark:border-white/10">
        <a hx-get="{% url 'document_approval:resubmit_document' document.pk %}" 
           class="inline-flex justify-center items-center px-6 py-3 text-sm font-bold text-white rounded-lg shadow-lg transition-all transform bg-neon-violet hover:bg-neon-purple shadow-neon-violet/30 hover:-translate-y-0.5" 
           hx-target="#content-div" 
           hx-push-url="true"  
           hx-indicator=".progress">
           <i data-lucide="rotate-cw" class="mr-2 w-4 h-4"></i>
           Resubmit Document
        </a>
    </div>
    {% endif %}

    {% if can_draw %}
    <div class="p-6 rounded-xl border border-gray-200 glass-card dark:border-white/10">
        <form hx-post="{% url 'document_approval:withdraw_document' document_id=document.pk %}"
              hx-target="#document-status"
              hx-swap="outerHTML"
              style="display: inline;">
            {% csrf_token %}
            <button type="submit" class="inline-flex justify-center items-center px-6 py-3 text-sm font-bold text-white rounded-lg shadow-lg transition-all transform bg-red-500/80 hover:bg-red-500 shadow-red-500/30 hover:-translate-y-0.5">
                <i data-lucide="x-circle" class="mr-2 w-4 h-4"></i>
                Withdraw Document
            </button>
        </form>
    </div>
    {% endif %}

    {% if can_cancel %}
    <div class="p-6 rounded-xl border border-gray-200 glass-card dark:border-white/10">
        <form method="post" hx-post="{% url 'document_approval:cancel_document' document.pk %}" style="display: inline;">
            {% csrf_token %}
            <button type="submit" class="inline-flex justify-center items-center px-6 py-3 text-sm font-bold text-white rounded-lg shadow-lg transition-all transform bg-red-500/80 hover:bg-red-500 shadow-red-500/30 hover:-translate-y-0.5">
                <i data-lucide="ban" class="mr-2 w-4 h-4"></i>
                Cancel Document
            </button>
        </form>
    </div>
    {% endif %}

    {% if can_void %}
    <div x-data="{ showVoidModal: false }" class="inline-block w-full">
        <!-- Void Button -->
        <div class="p-6 rounded-xl border border-gray-200 glass-card dark:border-white/10">
            <button @click="showVoidModal = true" 
                    type="button" 
                    class="inline-flex justify-center items-center px-6 py-3 text-sm font-bold text-white bg-gray-800 rounded-lg shadow-lg transition-all transform hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-600 hover:-translate-y-0.5">
                <i data-lucide="trash-2" class="mr-2 w-4 h-4"></i>
                Void Document
            </button>
        </div>

        <!-- Void Modal -->
        <div x-show="showVoidModal" 
             style="display: none;"
             class="flex fixed inset-0 z-50 justify-center items-center p-4 backdrop-blur-sm bg-black/50"
             x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="opacity-0"
             x-transition:enter-end="opacity-100"
             x-transition:leave="transition ease-in duration-200"
             x-transition:leave-start="opacity-100"
             x-transition:leave-end="opacity-0">
            
            <div class="w-full max-w-md bg-white dark:bg-[#1a1a1a] rounded-xl border border-gray-200 dark:border-white/10 shadow-2xl"
                 @click.away="showVoidModal = false">
                <form method="post" action="{% url 'document_approval:void_document' document.pk %}">
                    {% csrf_token %}
                    <div class="p-6">
                        <h3 class="mb-4 text-xl font-bold text-gray-900 dark:text-white">Void Document</h3>
                        <p class="mb-4 text-sm text-gray-500 dark:text-gray-400">
                            Are you sure you want to void this document? This action cannot be undone.
                            Please provide a reason for voiding.
                        </p>
                        
                        <div class="mb-6">
                            <label for="void_reason" class="block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300">Reason for Voiding <span class="text-red-500">*</span></label>
                            <textarea name="void_reason" 
                                      id="void_reason" 
                                      rows="3" 
                                      required
                                      class="px-4 py-2.5 w-full placeholder-gray-400 text-gray-900 bg-gray-50 rounded-lg border border-gray-200 dark:bg-white/5 dark:border-white/10 focus:ring-2 focus:ring-neon-violet focus:border-transparent dark:text-white"
                                      placeholder="Enter reason..."></textarea>
                        </div>
                        
                        <div class="flex gap-3 justify-end">
                            <button type="button" 
                                    @click="showVoidModal = false"
                                    class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg transition-colors hover:bg-gray-200 dark:bg-white/5 dark:text-gray-300 dark:hover:bg-white/10">
                                Cancel
                            </button>
                            <button type="submit" 
                                    class="px-4 py-2 text-sm font-bold text-white bg-red-600 rounded-lg shadow-lg transition-colors hover:bg-red-700 shadow-red-500/30">
                                Confirm Void
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    {% endif %}
</div>